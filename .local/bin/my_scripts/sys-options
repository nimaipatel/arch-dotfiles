#!/bin/sh

OPTION=$(printf "Lock\nRestart dwm\nExit XServer\nLogout\nShutdown\nReboot" | fzfmenu --prompt="System Operations ")

[ -z "${OPTION}" ] && exit

case "${OPTION}" in
	'Lock') 
		lockscreen
		;;
	'Restart dwm')
		# shellcheck disable=SC2046
		pidof dwm | xargs kill -HUP
		;;
	'Exit XServer')
		pkill xinit
		;;
	'Logout')
		pkill -KILL -u "$USER"
		;;
	'Shutdown')
		CONFIRM=$(printf "No\nYes" | fzfmenu --prompt="Are you sure you want to shutdown? ")
		[ "$CONFIRM" = Yes ] && poweroff
		;;
	'Reboot')
		CONFIRM=$(printf "No\nYes" | fzfmenu --prompt="Are you sure you want to reboot? ")
		[ "$CONFIRM" = Yes ] && reboot
		;;
esac
